<Window x:Class="ZipCrackerUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="X-Repass - Archive Password Recovery"
        Height="900" Width="1350"
        MinHeight="600" MinWidth="900"
        Background="{StaticResource PrimaryBrush}"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="CanResizeWithGrip"
        Icon="app.ico">

    <Border CornerRadius="16" Background="{StaticResource PrimaryBrush}" BorderBrush="#2a2a4a" BorderThickness="1">
        <Grid>
            <!-- Background Firefly Canvas -->
            <Canvas x:Name="fireflyCanvas" Panel.ZIndex="1" IsHitTestVisible="False" ClipToBounds="True"/>

            <!-- Main Content Grid -->
            <Grid Panel.ZIndex="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="24"/>
            </Grid.RowDefinitions>

            <!-- Custom Title Bar - Semi-transparent -->
            <Border Grid.Row="0" CornerRadius="16,16,0,0" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Border.Background>
                    <SolidColorBrush Color="#08081a" Opacity="0.9"/>
                </Border.Background>
                <Grid>
                    <StackPanel Orientation="Horizontal" Margin="16,0,0,0" VerticalAlignment="Center">
                        <Border Width="24" Height="24" CornerRadius="6" Margin="0,0,10,0">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#00f5ff" Offset="0"/>
                                    <GradientStop Color="#ff00ff" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <TextBlock Text="X" FontSize="14" FontWeight="Black" Foreground="White"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <TextBlock Text="X-Repass" Foreground="{StaticResource TextBrush}"
                                   FontSize="13" FontWeight="SemiBold" VerticalAlignment="Center"/>
                        <TextBlock Text=" - Archive Password Recovery" Foreground="{StaticResource TextDimBrush}"
                                   FontSize="12" VerticalAlignment="Center"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,8,0">
                        <Button x:Name="btnSettings" Width="38" Height="32" Content="âš™ï¸" FontSize="18" Click="BtnSettings_Click" ToolTip="Settings">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Background" Value="Transparent"/>
                                    <Setter Property="Foreground" Value="{StaticResource TextDimBrush}"/>
                                    <Setter Property="BorderThickness" Value="0"/>
                                    <Setter Property="Cursor" Value="Hand"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="6">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#2a2a4a"/>
                                                        <Setter Property="Foreground" Value="{StaticResource AccentBrush}"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                        </Button>
                        <Button x:Name="btnMinimize" Width="38" Height="32" Content="â”€" FontSize="16" Click="BtnMinimize_Click" ToolTip="Minimize">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Background" Value="Transparent"/>
                                    <Setter Property="Foreground" Value="{StaticResource TextDimBrush}"/>
                                    <Setter Property="BorderThickness" Value="0"/>
                                    <Setter Property="Cursor" Value="Hand"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="6">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#2a2a4a"/>
                                                        <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                        </Button>
                        <Button x:Name="btnMaximize" Width="38" Height="32" Content="â˜" FontSize="16" Click="BtnMaximize_Click" ToolTip="Maximize">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Background" Value="Transparent"/>
                                    <Setter Property="Foreground" Value="{StaticResource TextDimBrush}"/>
                                    <Setter Property="BorderThickness" Value="0"/>
                                    <Setter Property="Cursor" Value="Hand"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="6">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#2a2a4a"/>
                                                        <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                        </Button>
                        <Button x:Name="btnClose" Width="38" Height="32" Content="âœ•" FontSize="16" Click="BtnClose_Click" ToolTip="Close">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Background" Value="Transparent"/>
                                    <Setter Property="Foreground" Value="{StaticResource TextDimBrush}"/>
                                    <Setter Property="BorderThickness" Value="0"/>
                                    <Setter Property="Cursor" Value="Hand"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="6">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#cc2244"/>
                                                        <Setter Property="Foreground" Value="White"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Row 1: File Selection - Full Width -->
            <Border Grid.Row="1" Margin="8,4,8,4" CornerRadius="10" Padding="12,10">
                <Border.Background>
                    <SolidColorBrush Color="#06060c" Opacity="0.9"/>
                </Border.Background>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Browse and Resume Buttons -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal">
                        <Button x:Name="btnBrowse" Width="130" Height="40"
                                Style="{StaticResource ModernButton}" Click="BtnBrowse_Click" Margin="0,0,8,0" Padding="12,8">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ“‚" FontSize="18" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                <TextBlock Text="OPEN" FontSize="14" FontWeight="Bold" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="btnResume" Width="130" Height="40"
                                Style="{StaticResource PrimaryButton}" Click="BtnResume_Click" Margin="0,0,12,0" Padding="12,8"
                                Visibility="Collapsed" ToolTip="Resume previous session">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="â¯" FontSize="16" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                <TextBlock Text="RESUME" FontSize="14" FontWeight="Bold" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="btnDeleteCheckpoints" Width="40" Height="40"
                                Style="{StaticResource DangerButton}" Click="BtnDeleteCheckpoints_Click" Padding="8"
                                Visibility="Collapsed" ToolTip="Delete all checkpoints">
                            <TextBlock Text="ðŸ—‘ï¸" FontSize="18" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        </Button>
                    </StackPanel>

                    <!-- File Path - Takes remaining space -->
                    <TextBox x:Name="txtFilePath" Grid.Column="1" Style="{StaticResource ModernTextBox}"
                             Text="" FontSize="12" Height="38" ToolTip="Supports: ZIP, RAR, RAR5, SFX, EXE" Padding="12,8"/>

                    <!-- Archive Type Badge -->
                    <Border x:Name="archiveTypeBadge" Grid.Column="2" Padding="10,6" CornerRadius="8"
                            Background="#0a1a2a" BorderBrush="{StaticResource AccentBrush}" BorderThickness="1"
                            Visibility="Collapsed" Margin="12,0,0,0" VerticalAlignment="Center">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="lblArchiveIcon" Text="ðŸ“¦" FontSize="14" VerticalAlignment="Center"/>
                            <TextBlock x:Name="lblArchiveType" Text="ZIP" Foreground="{StaticResource AccentBrush}"
                                       FontWeight="Bold" FontSize="12" Margin="6,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>

                    <!-- Quick Actions - Larger buttons with clear labels -->
                    <StackPanel Grid.Column="3" Orientation="Horizontal" Margin="12,0,0,0">
                        <Button x:Name="btnTest" Style="{StaticResource ModernButton}"
                                Width="120" Height="38" Click="BtnTest_Click" ToolTip="Test a specific password">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ§ª" FontSize="14" Margin="0,0,6,0" VerticalAlignment="Center"/>
                                <TextBlock Text="TEST PASS" FontSize="11" FontWeight="SemiBold" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="btnExtractHash" Style="{StaticResource ModernButton}"
                                Width="50" Height="38" Margin="8,0,0,0" Click="BtnExtractHash_Click" ToolTip="Copy hash to clipboard">
                            <TextBlock Text="ðŸ“‹" FontSize="16" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Row 2: Attack Settings + Action Buttons -->
            <Border Grid.Row="2" Margin="8,0,8,4" CornerRadius="10" Padding="10,8">
                <Border.Background>
                    <SolidColorBrush Color="#06060c" Opacity="0.9"/>
                </Border.Background>
                <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled"
                              PanningMode="HorizontalOnly" Background="Transparent">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*" MinWidth="10"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Password Length -->
                        <StackPanel Grid.Column="0" Margin="0,0,12,0">
                            <TextBlock Text="ðŸ“ LEN" Foreground="{StaticResource AccentBrush}" FontSize="9" FontWeight="Bold" Margin="0,0,0,4"/>
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <TextBox x:Name="txtMinLen" Style="{StaticResource ModernTextBox}" Text="1" Width="38" Height="32" TextAlignment="Center" VerticalContentAlignment="Center" TextChanged="PasswordLength_Changed" LostFocus="PasswordLength_LostFocus"/>
                                <TextBlock Text="-" Foreground="#ffffff" VerticalAlignment="Center" Margin="4,0" FontSize="11" FontWeight="Bold"/>
                                <TextBox x:Name="txtMaxLen" Style="{StaticResource ModernTextBox}" Text="8" Width="38" Height="32" TextAlignment="Center" VerticalContentAlignment="Center" TextChanged="PasswordLength_Changed" LostFocus="PasswordLength_LostFocus"/>
                            </StackPanel>
                        </StackPanel>

                        <!-- Charset Options - Compact -->
                        <Border Grid.Column="1" Margin="0,0,12,0" Background="#06060c" CornerRadius="5" BorderBrush="#1a2a4a" BorderThickness="1">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Border Grid.Row="0" Background="#081020" CornerRadius="5,5,0,0" Padding="6,2">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="ðŸ”¤" FontSize="8" Margin="0,0,3,0"/>
                                        <TextBlock Text="CHARS" Foreground="{StaticResource AccentBrush}" FontSize="8" FontWeight="Bold"/>
                                        <TextBlock x:Name="lblCharsetInfo" Text=" 36" Foreground="{StaticResource TextDimBrush}" FontSize="8"/>
                                    </StackPanel>
                                </Border>
                                <Grid Grid.Row="1" Margin="6,3,6,4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <CheckBox x:Name="chkNumbers" Grid.Row="0" Grid.Column="0" Content="0-9" IsChecked="True" FontSize="9" Margin="0,0,8,1" Checked="Charset_Changed" Unchecked="Charset_Changed"/>
                                    <CheckBox x:Name="chkLowercase" Grid.Row="0" Grid.Column="1" Content="a-z" IsChecked="True" FontSize="9" Margin="0,0,0,1" Checked="Charset_Changed" Unchecked="Charset_Changed"/>
                                    <CheckBox x:Name="chkUppercase" Grid.Row="1" Grid.Column="0" Content="A-Z" FontSize="9" Margin="0,0,8,0" Checked="Charset_Changed" Unchecked="Charset_Changed"/>
                                    <CheckBox x:Name="chkSpecial" Grid.Row="1" Grid.Column="1" Content="!@#" FontSize="9" Checked="Charset_Changed" Unchecked="Charset_Changed"/>
                                </Grid>
                            </Grid>
                        </Border>

                        <!-- Total Passwords Info - Compact -->
                        <StackPanel Grid.Column="2" Margin="0,0,12,0" MinWidth="70">
                            <TextBlock Text="ðŸ“Š TOTAL" Foreground="{StaticResource AccentBrush}" FontSize="9" FontWeight="Bold" Margin="0,0,0,4"/>
                            <TextBlock x:Name="lblTotalPasswords" Text="--" Foreground="#ffaa00" FontSize="12" FontWeight="Bold"/>
                            <TextBlock x:Name="lblTotalPasswordsDetail" Text="calculating..." Foreground="{StaticResource TextDimBrush}" FontSize="7"/>
                        </StackPanel>

                        <!-- CPU Threads - Compact -->
                        <StackPanel Grid.Column="3" Margin="0,0,12,0">
                            <TextBlock Text="âš¡ THR" Foreground="{StaticResource AccentBrush}" FontSize="9" FontWeight="Bold" Margin="0,0,0,4"/>
                            <TextBox x:Name="txtThreads" Style="{StaticResource ModernTextBox}" Text="12" Width="50" Height="32" TextAlignment="Center" VerticalContentAlignment="Center"/>
                        </StackPanel>

                        <!-- Engine Selection - Compact -->
                        <StackPanel Grid.Column="4" Margin="0,0,12,0">
                            <TextBlock Text="ðŸ–¥ï¸ ENGINE" Foreground="{StaticResource AccentBrush}" FontSize="9" FontWeight="Bold" Margin="0,0,0,4"/>
                            <StackPanel Orientation="Horizontal" Height="18">
                                <CheckBox x:Name="chkCpu" Content="CPU" IsChecked="True" Margin="0,0,8,0" FontSize="10" VerticalAlignment="Center"/>
                                <CheckBox x:Name="chkGpu" Content="GPU" Checked="ChkGpu_Checked" Unchecked="ChkGpu_Unchecked" FontSize="10" VerticalAlignment="Center"/>
                            </StackPanel>
                        </StackPanel>

                        <!-- Attack Strategy - Compact -->
                        <Border Grid.Column="5" Margin="0,0,12,0" Background="#06060c" CornerRadius="5" BorderBrush="#1a2a4a" BorderThickness="1">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Border Grid.Row="0" Background="#081020" CornerRadius="5,5,0,0" Padding="6,2">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="ðŸŽ¯" FontSize="8" Margin="0,0,3,0"/>
                                        <TextBlock Text="MODE" Foreground="{StaticResource AccentBrush}" FontSize="8" FontWeight="Bold"/>
                                    </StackPanel>
                                </Border>
                                <ComboBox x:Name="cboStrategy" Grid.Row="1" Width="110" Height="26" Margin="3"
                                          SelectedIndex="0" FontSize="9"
                                          Background="#0a0a14" Foreground="#ffffff"
                                          BorderBrush="#2a3a5a" BorderThickness="1">
                                    <ComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="{Binding Icon}" FontSize="10" Margin="0,0,4,0" VerticalAlignment="Center"/>
                                                <TextBlock Text="{Binding Name}" FontSize="9" VerticalAlignment="Center"/>
                                            </StackPanel>
                                        </DataTemplate>
                                    </ComboBox.ItemTemplate>
                                </ComboBox>
                            </Grid>
                        </Border>

                        <!-- Spacer -->
                        <Border Grid.Column="6"/>

                        <!-- Action Buttons - Always visible -->
                        <StackPanel Grid.Column="7" Orientation="Horizontal">
                            <Button x:Name="btnStart" Style="{StaticResource PrimaryButton}"
                                    MinWidth="70" Width="Auto" Height="36" FontSize="12" Padding="10,0" Click="BtnStart_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="â–¶" FontSize="12" Margin="0,0,4,0"/>
                                    <TextBlock Text="START" FontWeight="Bold"/>
                                </StackPanel>
                            </Button>
                            <Button x:Name="btnPause" Style="{StaticResource ModernButton}"
                                    MinWidth="36" Width="Auto" Height="36" FontSize="11" Margin="4,0,0,0" Padding="8,0" IsEnabled="False" Click="BtnPause_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock x:Name="txtPauseIcon" Text="â¸" FontSize="11" Margin="0,0,3,0"/>
                                    <TextBlock x:Name="txtPauseText" Text="II" FontSize="10"/>
                                </StackPanel>
                            </Button>
                            <Button x:Name="btnStop" Style="{StaticResource DangerButton}"
                                    MinWidth="36" Width="Auto" Height="36" FontSize="11" Margin="4,0,0,0" Padding="8,0" IsEnabled="False" Click="BtnStop_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="â¹" FontSize="11" Margin="0,0,3,0"/>
                                    <TextBlock Text="â– " FontSize="10"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                        <!-- Hidden elements - moved to Settings window -->
                        <TextBox x:Name="txtHashcatPath" Grid.Column="5" Visibility="Collapsed" Width="0" Height="0"
                                 IsReadOnly="True" Background="Transparent" Foreground="Transparent" BorderThickness="0"/>
                        <Button x:Name="btnBrowseHashcat" Grid.Column="5" Visibility="Collapsed" Width="0" Height="0"
                                Background="Transparent" BorderThickness="0" Click="BtnBrowseHashcat_Click"/>
                        <TextBox x:Name="txtPattern" Grid.Column="5" Visibility="Collapsed" Width="0" Height="0" Text="????"/>
                    </Grid>
                </ScrollViewer>
            </Border>

            <!-- Row 3: Monitoring Panel with Speedometer and Stats -->
            <Border Grid.Row="3" Margin="8,0,8,4" CornerRadius="8" Padding="10,6">
                <Border.Background>
                    <SolidColorBrush Color="#06060c" Opacity="0.9"/>
                </Border.Background>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" MinWidth="150"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Left: System Log -->
                    <Grid Grid.Column="0" Margin="0,0,12,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- System Log Header -->
                        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,4">
                            <TextBlock Text="ðŸ“¢" FontSize="10" Margin="0,0,4,0"/>
                            <TextBlock Text="SYSTEM / NOTIFICATIONS" Foreground="#4488ff"
                                       FontSize="9" FontWeight="Bold"/>
                        </StackPanel>

                        <!-- System Log TextBox - Fixed height, hidden scrollbar -->
                        <Border Grid.Row="1" Background="#040408" CornerRadius="6" BorderBrush="#1a2a4a" BorderThickness="1"
                                MaxHeight="120">
                            <TextBox x:Name="txtSystemLog" Style="{StaticResource LogTextBox}" Foreground="#4488ff"
                                     FontSize="10" VerticalScrollBarVisibility="Hidden" TextWrapping="Wrap"/>
                        </Border>

                        <!-- Hidden progress bars for code compatibility -->
                        <StackPanel Visibility="Collapsed">
                            <ProgressBar x:Name="progressBarCpuLarge" Height="0"/>
                            <TextBlock x:Name="lblProgressCpuLarge" Text="0.0%"/>
                            <ProgressBar x:Name="progressBarGpuLarge" Height="0"/>
                            <TextBlock x:Name="lblProgressGpuLarge" Text="0.0%"/>
                            <ProgressBar x:Name="progressBarLarge" Height="0"/>
                            <TextBlock x:Name="lblProgressLarge" Text="0.0%"/>
                        </StackPanel>

                        <!-- Hidden Hardware Info for compatibility -->
                        <StackPanel Visibility="Collapsed">
                            <TextBlock x:Name="lblCpuModel" Text="--"/>
                            <TextBlock x:Name="lblGpuModel" Text="--"/>
                        </StackPanel>
                    </Grid>

                    <!-- Speedometer Gauge -->
                    <Border Grid.Column="1" Width="120" CornerRadius="8" Background="#040408"
                            BorderBrush="#1a1a2a" BorderThickness="1" Padding="6" Margin="0,0,6,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Gauge Header -->
                            <TextBlock Grid.Row="0" Text="âš¡ SPEED" Foreground="#ffaa00"
                                       FontSize="9" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,4"/>

                            <!-- Speedometer Canvas -->
                            <Grid Grid.Row="1">
                                <Canvas x:Name="speedometerCanvas" Width="100" Height="60" ClipToBounds="True"/>
                                <!-- Speed Value -->
                                <StackPanel VerticalAlignment="Bottom" HorizontalAlignment="Center" Margin="0,0,0,2">
                                    <TextBlock x:Name="lblSpeedGauge" Text="0" Foreground="#ffaa00"
                                               FontSize="16" FontWeight="Bold" HorizontalAlignment="Center"/>
                                    <TextBlock Text="/sec" Foreground="#886600" FontSize="8" HorizontalAlignment="Center" Margin="0,-3,0,0"/>
                                </StackPanel>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- Stats Panel -->
                    <Border Grid.Column="2" Width="160" CornerRadius="8" Background="#040408"
                            BorderBrush="#1a1a2a" BorderThickness="1" Padding="8,6" Margin="0,0,6,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Elapsed Time -->
                            <Grid Grid.Row="0" Margin="0,0,0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="â± TIME" Foreground="#666688" FontSize="8" FontWeight="Bold" VerticalAlignment="Center"/>
                                <TextBlock x:Name="lblTimePanel" Grid.Column="1" Text="00:00:00" Foreground="{StaticResource AccentBrush}"
                                           FontSize="14" FontWeight="Bold" HorizontalAlignment="Right"/>
                            </Grid>

                            <!-- Total Attempts -->
                            <Grid Grid.Row="1" Margin="0,0,0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="ðŸ”¢ TESTED" Foreground="#666688" FontSize="8" FontWeight="Bold" VerticalAlignment="Center"/>
                                <TextBlock x:Name="lblAttemptsPanel" Grid.Column="1" Text="0" FontSize="14" FontWeight="Bold" HorizontalAlignment="Right">
                                    <TextBlock.Foreground>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                            <GradientStop Color="#00f5ff" Offset="0"/>
                                            <GradientStop Color="#ff00ff" Offset="1"/>
                                        </LinearGradientBrush>
                                    </TextBlock.Foreground>
                                </TextBlock>
                            </Grid>

                            <!-- File Info -->
                            <Grid Grid.Row="2" Margin="0,0,0,4">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="ðŸ“„ FILE" Foreground="#666688" FontSize="8" FontWeight="Bold" VerticalAlignment="Center"/>
                                <TextBlock x:Name="lblFileNameLarge" Grid.Column="1" Text="--" Foreground="{StaticResource TextBrush}"
                                           FontSize="9" HorizontalAlignment="Right" TextTrimming="CharacterEllipsis" MaxWidth="100"
                                           ToolTip="{Binding Text, RelativeSource={RelativeSource Self}}"/>
                            </Grid>

                            <!-- Hash Type -->
                            <Grid Grid.Row="3">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="ðŸ” TYPE" Foreground="#666688" FontSize="8" FontWeight="Bold" VerticalAlignment="Center"/>
                                <TextBlock x:Name="lblHashTypeLarge" Grid.Column="1" Text="--" Foreground="{StaticResource AccentBrush}"
                                           FontSize="9" FontWeight="Bold" HorizontalAlignment="Right"/>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- Temperature Graph Panel -->
                    <Border Grid.Column="3" Width="160" CornerRadius="8" Background="#040408"
                            BorderBrush="#1a1a2a" BorderThickness="1" Padding="6" Margin="0,0,6,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Graph Header -->
                            <TextBlock Grid.Row="0" Text="ðŸ“ˆ PERFORMANCE" Foreground="{StaticResource AccentBrush}"
                                       FontSize="9" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,4"/>

                            <!-- Temperature Graph Canvas -->
                            <Border Grid.Row="1" Background="#020204" CornerRadius="4" BorderBrush="#0a0a14" BorderThickness="1">
                                <Canvas x:Name="tempGraphCanvas" ClipToBounds="True"/>
                            </Border>
                        </Grid>
                    </Border>

                    <!-- Temperature Stats Panel -->
                    <Border Grid.Column="4" Width="90" CornerRadius="8" Background="#040408"
                            BorderBrush="#1a1a2a" BorderThickness="1" Padding="5">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Temp Header -->
                            <TextBlock Grid.Row="0" Text="ðŸŒ¡ï¸ TEMP" Foreground="{StaticResource AccentBrush}"
                                       FontSize="9" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,4"/>

                            <!-- Temperature Stats -->
                            <Grid Grid.Row="1">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <!-- CPU Temp -->
                                <Border Grid.Row="0" Background="#0a1a0a" CornerRadius="4" Padding="4,2" Margin="0,0,0,2">
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                        <TextBlock Text="CPU " Foreground="#00ff88" FontSize="8" FontWeight="Bold" VerticalAlignment="Center"/>
                                        <TextBlock x:Name="lblCpuTempLarge" Text="--Â°" Foreground="#00ff88"
                                                   FontSize="12" FontWeight="Bold" VerticalAlignment="Center"/>
                                        <TextBlock x:Name="lblCpuUsageLarge" Text=" --%"  Foreground="#666666"
                                                   FontSize="8" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Border>

                                <!-- GPU Temp -->
                                <Border Grid.Row="1" Background="#1a0a0a" CornerRadius="4" Padding="4,2" Margin="0,2,0,0">
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                        <TextBlock Text="GPU " Foreground="#ff6b35" FontSize="8" FontWeight="Bold" VerticalAlignment="Center"/>
                                        <TextBlock x:Name="lblGpuTempLarge" Text="--Â°" Foreground="#ff6b35"
                                                   FontSize="12" FontWeight="Bold" VerticalAlignment="Center"/>
                                        <TextBlock x:Name="lblGpuUsageLarge" Text=" --%"  Foreground="#666666"
                                                   FontSize="8" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- Hidden elements for compatibility -->
                    <TextBlock x:Name="lblFileSizeLarge" Visibility="Collapsed" Text="--"/>
                    <TextBlock x:Name="lblHashcatModeLarge" Visibility="Collapsed" Text="--"/>
                </Grid>
            </Border>

            <!-- Row 4: Main Log Area - Compact design -->
            <Grid Grid.Row="4" Margin="8,0,8,3">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- CPU Log Panel (semi-transparent to see fireflies) -->
                <Border Grid.Column="0" CornerRadius="8" Margin="0,0,4,0" BorderBrush="#1a3a2a" BorderThickness="1">
                    <Border.Background>
                        <SolidColorBrush Color="#040408" Opacity="0.85"/>
                    </Border.Background>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="22"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="32"/>
                        </Grid.RowDefinitions>

                            <!-- Header with CPU Model and Current Pattern -->
                        <Border Grid.Row="0" Background="#081810" CornerRadius="8,8,0,0" Padding="8,3">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ’»" FontSize="10" Margin="0,0,4,0"/>
                                <TextBlock Text="CPU" Foreground="#00ff88" FontSize="9" FontWeight="Bold"/>
                                <TextBlock Text=" - " Foreground="#2a5a3a" FontSize="9"/>
                                <TextBlock x:Name="lblCpuHeaderPattern" Text="READY" Foreground="#00ff88" FontSize="9" FontWeight="Bold"/>
                            </StackPanel>
                        </Border>

                        <!-- Stats Section with Progress Bar -->
                        <Border Grid.Row="1" Background="#061208" Padding="8,4">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Stats Row -->
                                <StackPanel Grid.Row="0" Orientation="Horizontal">
                                    <Border Background="#0a2a1a" CornerRadius="3" Padding="6,2" Margin="0,0,6,0">
                                        <TextBlock x:Name="lblCpuPattern" Text="Idle" Foreground="#00ff88" FontSize="9" FontWeight="Bold" MaxWidth="180" TextTrimming="CharacterEllipsis"/>
                                    </Border>
                                    <Border Background="#0a2a1a" CornerRadius="3" Padding="6,2" Margin="0,0,6,0">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="Checked: " Foreground="#2a5a3a" FontSize="9"/>
                                            <TextBlock x:Name="lblCpuChecked" Text="0" Foreground="#00ff88" FontSize="9" FontWeight="Bold"/>
                                        </StackPanel>
                                    </Border>
                                    <Border Background="#0a2a1a" CornerRadius="3" Padding="6,2" Margin="0,0,6,0">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="ETA: " Foreground="#2a5a3a" FontSize="9"/>
                                            <TextBlock x:Name="lblCpuEta" Text="--" Foreground="#00ff88" FontSize="9" FontWeight="Bold"/>
                                        </StackPanel>
                                    </Border>
                                    <TextBlock x:Name="lblCpuCurrentAction" Text="Idle" Foreground="#4a8a5a" FontSize="9" VerticalAlignment="Center"/>
                                </StackPanel>

                                <!-- CPU Overall Progress Bar Row -->
                                <Grid Grid.Row="1" Margin="0,6,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Label -->
                                    <TextBlock Grid.Column="0" Text="TOTAL" Foreground="#2a5a3a" FontSize="8" FontWeight="Bold" VerticalAlignment="Center" Margin="0,0,6,0"/>

                                    <!-- Beautiful Progress Bar -->
                                    <Border Grid.Column="1" Background="#0a1a0a" CornerRadius="4" Height="12" Margin="0,0,8,0">
                                        <Grid>
                                            <!-- Progress Fill -->
                                            <Border x:Name="cpuProgressFill" CornerRadius="4" HorizontalAlignment="Left" Width="0">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                        <GradientStop Color="#00aa55" Offset="0"/>
                                                        <GradientStop Color="#00ff88" Offset="0.5"/>
                                                        <GradientStop Color="#00cc66" Offset="1"/>
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                                <Border.Effect>
                                                    <DropShadowEffect Color="#00ff88" BlurRadius="8" ShadowDepth="0" Opacity="0.5"/>
                                                </Border.Effect>
                                            </Border>
                                            <!-- Shimmer Effect -->
                                            <Border CornerRadius="4" Opacity="0.3">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                        <GradientStop Color="#ffffff" Offset="0"/>
                                                        <GradientStop Color="Transparent" Offset="0.5"/>
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                            </Border>
                                        </Grid>
                                    </Border>

                                    <!-- Progress Text -->
                                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                                        <TextBlock x:Name="lblCpuProgressPercent" Text="0%" Foreground="#00ff88" FontSize="10" FontWeight="Bold" Width="35" TextAlignment="Right"/>
                                        <TextBlock x:Name="lblCpuPhaseInfo" Text="" Foreground="#2a5a3a" FontSize="8" Margin="4,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Grid>

                                <!-- CPU Wordlist Progress Bar (Current Wordlist) -->
                                <Grid Grid.Row="2" Margin="0,4,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Label -->
                                    <TextBlock Grid.Column="0" Text="FILE " Foreground="#3a5a4a" FontSize="8" FontWeight="Bold" VerticalAlignment="Center" Margin="0,0,6,0"/>

                                    <!-- Wordlist Progress Bar (Cyan) -->
                                    <Border Grid.Column="1" Background="#0a1a1a" CornerRadius="4" Height="10" Margin="0,0,8,0">
                                        <Grid>
                                            <!-- Progress Fill -->
                                            <Border x:Name="cpuWordlistProgressFill" CornerRadius="4" HorizontalAlignment="Left" Width="0">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                        <GradientStop Color="#0088aa" Offset="0"/>
                                                        <GradientStop Color="#00bbdd" Offset="0.5"/>
                                                        <GradientStop Color="#00aacc" Offset="1"/>
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                                <Border.Effect>
                                                    <DropShadowEffect Color="#00bbdd" BlurRadius="6" ShadowDepth="0" Opacity="0.4"/>
                                                </Border.Effect>
                                            </Border>
                                            <!-- Shimmer Effect -->
                                            <Border CornerRadius="4" Opacity="0.2">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                        <GradientStop Color="#ffffff" Offset="0"/>
                                                        <GradientStop Color="Transparent" Offset="0.5"/>
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                            </Border>
                                        </Grid>
                                    </Border>

                                    <!-- Wordlist Progress Text -->
                                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                                        <TextBlock x:Name="lblCpuWordlistPercent" Text="0%" Foreground="#00bbdd" FontSize="9" FontWeight="Bold" Width="35" TextAlignment="Right"/>
                                        <TextBlock x:Name="lblCpuWordlistDetail" Text="" Foreground="#3a5a4a" FontSize="8" Margin="4,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Border>

                        <!-- Hidden Progress Bar for code compatibility -->
                        <StackPanel Visibility="Collapsed">
                            <TextBlock x:Name="lblCpuChunkProgress" Text="0%"/>
                            <ProgressBar x:Name="progressBarCpuChunk" Height="8" Minimum="0" Maximum="100" Value="0"/>
                            <TextBlock x:Name="lblCpuChunkInfo" Text="0/0"/>
                        </StackPanel>

                        <!-- Log -->
                        <TextBox x:Name="txtLog" Grid.Row="2" Style="{StaticResource LogTextBox}" Foreground="#00ff88"/>

                        <!-- Footer Stats -->
                        <Border Grid.Row="3" Background="#081810" CornerRadius="0,0,8,8" Padding="8,4">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="0,0,16,0">
                                    <TextBlock Text="SPEED" Foreground="#2a5a3a" FontSize="7" FontWeight="Bold"/>
                                    <TextBlock x:Name="lblCpuSpeed" Text="0 /sec" Foreground="#00ff88" FontSize="10" FontWeight="Bold"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="0,0,16,0">
                                    <TextBlock Text="TESTED" Foreground="#2a5a3a" FontSize="7" FontWeight="Bold"/>
                                    <TextBlock x:Name="lblCpuAttempts" Text="0" Foreground="#00ff88" FontSize="10" FontWeight="Bold"/>
                                </StackPanel>
                                <!-- Current Password Display -->
                                <Border Grid.Column="2" Background="#0a2a1a" CornerRadius="4" Padding="8,2" VerticalAlignment="Center">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="ðŸ”‘ " Foreground="#2a5a3a" FontSize="9" VerticalAlignment="Center"/>
                                        <TextBlock x:Name="lblCpuCurrentPassword" Text="--" Foreground="#00ff88"
                                                   FontSize="11" FontWeight="Bold" FontFamily="Consolas"
                                                   MaxWidth="280" TextTrimming="CharacterEllipsis"/>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </Border>

                        <!-- CPU Found Password Overlay -->
                        <Border x:Name="borderFoundCpu" Grid.RowSpan="4" CornerRadius="8" Padding="16" Visibility="Collapsed"
                                VerticalAlignment="Center" HorizontalAlignment="Center" Margin="20">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#0a2a1a" Offset="0"/>
                                    <GradientStop Color="#1a3a2a" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <Border.Effect>
                                <DropShadowEffect Color="#00ff88" BlurRadius="25" ShadowDepth="0" Opacity="0.7"/>
                            </Border.Effect>
                            <StackPanel>
                                <TextBlock Text="ðŸŽ‰ PASSWORD FOUND!" Foreground="#00ff88"
                                           FontSize="14" FontWeight="Bold" HorizontalAlignment="Center"/>
                                <TextBox x:Name="lblFoundPwdCpu" Text="" Background="Transparent"
                                         Foreground="#00ff88" FontSize="18" FontFamily="Consolas"
                                         FontWeight="Bold" HorizontalAlignment="Center" BorderThickness="0"
                                         IsReadOnly="True" Margin="0,8,0,0"/>
                                <TextBlock Text="Found by CPU" Foreground="#2a5a3a" FontSize="10" HorizontalAlignment="Center" Margin="0,4,0,0"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,12,0,0">
                                    <Button Content="ðŸ“‹ Copy" Click="BtnCopyCpu_Click" Style="{StaticResource SuccessButton}" Width="70" FontSize="11"/>
                                    <Button Content="â¹ Stop" Click="BtnStopFromFound_Click" Width="70" Margin="8,0,0,0" FontSize="11">
                                        <Button.Style>
                                            <Style TargetType="Button" BasedOn="{StaticResource ModernButton}">
                                                <Setter Property="Background" Value="#2a1a1a"/>
                                                <Setter Property="Foreground" Value="#ff6b35"/>
                                            </Style>
                                        </Button.Style>
                                    </Button>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </Grid>
                </Border>

                <!-- GPU Log Panel (semi-transparent to see fireflies) -->
                <Border Grid.Column="1" CornerRadius="8" Margin="4,0,0,0" BorderBrush="#3a1a1a" BorderThickness="1">
                    <Border.Background>
                        <SolidColorBrush Color="#040408" Opacity="0.85"/>
                    </Border.Background>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="22"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="32"/>
                        </Grid.RowDefinitions>

                        <!-- Header with GPU Model -->
                        <Border Grid.Row="0" Background="#180808" CornerRadius="8,8,0,0" Padding="8,3">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸŽ®" FontSize="10" Margin="0,0,4,0"/>
                                <TextBlock Text="GPU - BRUTE FORCE" Foreground="#ff6b35" FontSize="9" FontWeight="Bold"/>
                            </StackPanel>
                        </Border>

                        <!-- Hash Display + Stats Section -->
                        <Border Grid.Row="1" Background="#120806" Padding="8,4">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Hash Display -->
                                <Border Grid.Row="0" Background="#0a0404" CornerRadius="4" Padding="6,3" Margin="0,0,0,4">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="ðŸ” " Foreground="#5a2a2a" FontSize="9" VerticalAlignment="Center"/>
                                        <TextBlock x:Name="lblGpuHashPreview" Grid.Column="1" Text="No hash loaded"
                                                   Foreground="#884422" FontSize="9" FontFamily="Consolas"
                                                   TextTrimming="CharacterEllipsis" VerticalAlignment="Center"
                                                   ToolTip="{Binding Text, RelativeSource={RelativeSource Self}}"/>
                                    </Grid>
                                </Border>

                                <!-- Pattern and Status (Row 1) -->
                                <StackPanel Grid.Row="1" Orientation="Horizontal">
                                    <Border Background="#2a0a0a" CornerRadius="3" Padding="6,2" Margin="0,0,6,0">
                                        <TextBlock x:Name="lblGpuPattern" Text="Idle" Foreground="#ff6b35" FontSize="9" FontWeight="Bold" MaxWidth="180" TextTrimming="CharacterEllipsis"/>
                                    </Border>
                                    <Border Background="#2a0a0a" CornerRadius="3" Padding="6,2" Margin="0,0,6,0">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="Checked: " Foreground="#5a2a2a" FontSize="9"/>
                                            <TextBlock x:Name="lblGpuChecked" Text="0" Foreground="#ff6b35" FontSize="9" FontWeight="Bold"/>
                                        </StackPanel>
                                    </Border>
                                    <Border Background="#2a0a0a" CornerRadius="3" Padding="6,2" Margin="0,0,6,0">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="ETA: " Foreground="#5a2a2a" FontSize="9"/>
                                            <TextBlock x:Name="lblGpuEta" Text="--" Foreground="#ff6b35" FontSize="9" FontWeight="Bold"/>
                                        </StackPanel>
                                    </Border>
                                    <TextBlock x:Name="lblGpuCurrentAction" Text="Idle" Foreground="#8a5a4a" FontSize="9" VerticalAlignment="Center"/>
                                </StackPanel>

                                <!-- GPU Overall Progress Bar -->
                                <Grid Grid.Row="2" Margin="0,6,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Label -->
                                    <TextBlock Grid.Column="0" Text="TOTAL" Foreground="#5a3a2a" FontSize="8" FontWeight="Bold" VerticalAlignment="Center" Margin="0,0,6,0"/>

                                    <!-- Beautiful Progress Bar -->
                                    <Border Grid.Column="1" Background="#1a0a0a" CornerRadius="4" Height="12" Margin="0,0,8,0">
                                        <Grid>
                                            <!-- Progress Fill -->
                                            <Border x:Name="gpuProgressFill" CornerRadius="4" HorizontalAlignment="Left" Width="0">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                        <GradientStop Color="#cc4411" Offset="0"/>
                                                        <GradientStop Color="#ff6b35" Offset="0.5"/>
                                                        <GradientStop Color="#ff8855" Offset="1"/>
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                                <Border.Effect>
                                                    <DropShadowEffect Color="#ff6b35" BlurRadius="8" ShadowDepth="0" Opacity="0.5"/>
                                                </Border.Effect>
                                            </Border>
                                            <!-- Shimmer Effect -->
                                            <Border CornerRadius="4" Opacity="0.3">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                        <GradientStop Color="#ffffff" Offset="0"/>
                                                        <GradientStop Color="Transparent" Offset="0.5"/>
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                            </Border>
                                        </Grid>
                                    </Border>

                                    <!-- Progress Text -->
                                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                                        <TextBlock x:Name="lblGpuProgressPercent" Text="0%" Foreground="#ff6b35" FontSize="10" FontWeight="Bold" Width="35" TextAlignment="Right"/>
                                        <TextBlock x:Name="lblGpuPhaseInfo" Text="" Foreground="#5a2a2a" FontSize="8" Margin="4,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Grid>

                                <!-- GPU Phase Progress Bar (Current Phase) -->
                                <Grid Grid.Row="3" Margin="0,4,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Label -->
                                    <TextBlock Grid.Column="0" Text="PHASE" Foreground="#4a3a5a" FontSize="8" FontWeight="Bold" VerticalAlignment="Center" Margin="0,0,6,0"/>

                                    <!-- Phase Progress Bar (Purple/Magenta) -->
                                    <Border Grid.Column="1" Background="#1a0a1a" CornerRadius="4" Height="10" Margin="0,0,8,0">
                                        <Grid>
                                            <!-- Progress Fill -->
                                            <Border x:Name="gpuPhaseProgressFill" CornerRadius="4" HorizontalAlignment="Left" Width="0">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                        <GradientStop Color="#8833aa" Offset="0"/>
                                                        <GradientStop Color="#bb55dd" Offset="0.5"/>
                                                        <GradientStop Color="#aa44cc" Offset="1"/>
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                                <Border.Effect>
                                                    <DropShadowEffect Color="#bb55dd" BlurRadius="6" ShadowDepth="0" Opacity="0.4"/>
                                                </Border.Effect>
                                            </Border>
                                            <!-- Shimmer Effect -->
                                            <Border CornerRadius="4" Opacity="0.2">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                        <GradientStop Color="#ffffff" Offset="0"/>
                                                        <GradientStop Color="Transparent" Offset="0.5"/>
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                            </Border>
                                        </Grid>
                                    </Border>

                                    <!-- Phase Progress Text -->
                                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                                        <TextBlock x:Name="lblGpuPhasePercent" Text="0%" Foreground="#bb55dd" FontSize="9" FontWeight="Bold" Width="35" TextAlignment="Right"/>
                                        <TextBlock x:Name="lblGpuPhaseDetail" Text="" Foreground="#4a3a5a" FontSize="8" Margin="4,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Border>

                        <!-- Hidden Progress Bar for code compatibility -->
                        <StackPanel Visibility="Collapsed">
                            <TextBlock x:Name="lblGpuChunkProgress" Text="0%"/>
                            <ProgressBar x:Name="progressBarGpuChunk" Height="8" Minimum="0" Maximum="100" Value="0"/>
                            <TextBlock x:Name="lblGpuChunkInfo" Text="0/0"/>
                        </StackPanel>

                        <!-- Log with Logo Background -->
                        <Grid Grid.Row="2">
                            <!-- Logo Background (show complete image, centered) -->
                            <Image x:Name="imgGpuLogo" Source="logo.png" Opacity="0.15"
                                   Stretch="Uniform" HorizontalAlignment="Center" VerticalAlignment="Center"/>

                            <!-- GPU Log TextBox -->
                            <TextBox x:Name="txtGpuLog" Style="{StaticResource LogTextBox}" Foreground="#ff6b35"
                                     Background="Transparent"/>
                        </Grid>

                        <!-- Footer Stats -->
                        <Border Grid.Row="3" Background="#180808" CornerRadius="0,0,8,8" Padding="8,4">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="SPEED" Foreground="#5a2a2a" FontSize="7" FontWeight="Bold"/>
                                    <TextBlock x:Name="lblGpuSpeed" Text="0 /sec" Foreground="#ff6b35" FontSize="10" FontWeight="Bold"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="STATUS" Foreground="#5a2a2a" FontSize="7" FontWeight="Bold"/>
                                    <TextBlock x:Name="lblGpuStatus" Text="Idle" Foreground="#ff6b35" FontSize="10" FontWeight="Bold"/>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- GPU Found Password Overlay -->
                        <Border x:Name="borderFoundGpu" Grid.RowSpan="4" CornerRadius="8" Padding="16" Visibility="Collapsed"
                                VerticalAlignment="Center" HorizontalAlignment="Center" Margin="20">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#2a1a0a" Offset="0"/>
                                    <GradientStop Color="#3a2a1a" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <Border.Effect>
                                <DropShadowEffect Color="#ff6b35" BlurRadius="25" ShadowDepth="0" Opacity="0.7"/>
                            </Border.Effect>
                            <StackPanel>
                                <TextBlock Text="ðŸŽ‰ PASSWORD FOUND!" Foreground="#ff6b35"
                                           FontSize="14" FontWeight="Bold" HorizontalAlignment="Center"/>
                                <TextBox x:Name="lblFoundPwdGpu" Text="" Background="Transparent"
                                         Foreground="#ff6b35" FontSize="18" FontFamily="Consolas"
                                         FontWeight="Bold" HorizontalAlignment="Center" BorderThickness="0"
                                         IsReadOnly="True" Margin="0,8,0,0"/>
                                <TextBlock Text="Found by GPU" Foreground="#5a3a2a" FontSize="10" HorizontalAlignment="Center" Margin="0,4,0,0"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,12,0,0">
                                    <Button Content="ðŸ“‹ Copy" Click="BtnCopyGpu_Click" Width="70" FontSize="11">
                                        <Button.Style>
                                            <Style TargetType="Button" BasedOn="{StaticResource ModernButton}">
                                                <Setter Property="Background" Value="#2a1a0a"/>
                                                <Setter Property="Foreground" Value="#ff6b35"/>
                                            </Style>
                                        </Button.Style>
                                    </Button>
                                    <Button Content="â¹ Stop" Click="BtnStopFromFound_Click" Width="70" Margin="8,0,0,0" FontSize="11">
                                        <Button.Style>
                                            <Style TargetType="Button" BasedOn="{StaticResource ModernButton}">
                                                <Setter Property="Background" Value="#1a1a2a"/>
                                                <Setter Property="Foreground" Value="#ff6b35"/>
                                            </Style>
                                        </Button.Style>
                                    </Button>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </Grid>
                </Border>

            </Grid>

            <!-- Status Bar with Stats - Semi-transparent -->
            <Border Grid.Row="5" CornerRadius="0,0,16,16" Padding="8,3">
                <Border.Background>
                    <SolidColorBrush Color="#04040a" Opacity="0.85"/>
                </Border.Background>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Status Indicator -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,12,0">
                        <Ellipse x:Name="statusIndicator" Width="8" Height="8" Fill="{StaticResource SuccessBrush}" Margin="0,0,6,0"/>
                        <TextBlock x:Name="lblStatus" Text="Ready" Foreground="{StaticResource TextBrush}" FontSize="10" FontWeight="SemiBold"/>
                    </StackPanel>

                    <!-- Version & License -->
                    <Border Grid.Column="1" Background="#0a0a14" CornerRadius="4" Padding="8,2" Margin="0,0,8,0" VerticalAlignment="Center">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="v1.1.0" Foreground="{StaticResource AccentBrush}" FontSize="9" FontWeight="Bold"/>
                            <TextBlock Text=" | " Foreground="#3a3a5a" FontSize="9"/>
                            <TextBlock Text="Â© 2025 XMan Studio" Foreground="#808090" FontSize="9"/>
                        </StackPanel>
                    </Border>

                    <!-- Progress bars à¸‹à¹ˆà¸­à¸™à¹„à¸§à¹‰à¸ªà¸³à¸«à¸£à¸±à¸š code compatibility -->
                    <StackPanel Visibility="Collapsed">
                        <ProgressBar x:Name="progressBarCpu" Height="4" Width="80"/>
                        <TextBlock x:Name="lblProgressCpu" Text="0%"/>
                        <ProgressBar x:Name="progressBarGpu" Height="4" Width="80"/>
                        <TextBlock x:Name="lblProgressGpu" Text="0%"/>
                        <ProgressBar x:Name="progressBar" Height="4" Width="80"/>
                        <TextBlock x:Name="lblProgress" Text="0%"/>
                    </StackPanel>

                    <!-- File Info -->
                    <TextBlock x:Name="lblFileInfo" Grid.Column="2" Text="" VerticalAlignment="Center"
                               Foreground="{StaticResource TextDimBrush}" FontSize="9" TextTrimming="CharacterEllipsis"/>

                    <!-- Elapsed -->
                    <StackPanel Grid.Column="3" Orientation="Horizontal" Margin="16,0,0,0" VerticalAlignment="Center">
                        <TextBlock Text="â±" Foreground="{StaticResource TextDimBrush}" FontSize="10" Margin="0,0,4,0"/>
                        <TextBlock x:Name="lblTime" Text="00:00:00" Foreground="{StaticResource AccentBrush}"
                                   FontSize="11" FontWeight="Bold"/>
                    </StackPanel>

                    <!-- Current Password (hidden - now shown in CPU log) -->
                    <TextBlock x:Name="lblCurrentPwd" Text="" Visibility="Collapsed"/>

                    <!-- Speed -->
                    <StackPanel Grid.Column="5" Orientation="Horizontal" Margin="12,0,0,0" VerticalAlignment="Center">
                        <TextBlock x:Name="lblSpeedTop" Text="0" Foreground="#ffaa00" FontSize="11" FontWeight="Bold"/>
                        <TextBlock Text="/s" Foreground="#886600" FontSize="10" Margin="1,1,0,0"/>
                    </StackPanel>

                    <!-- Attempts -->
                    <StackPanel Grid.Column="6" Orientation="Horizontal" Margin="12,0,0,0" VerticalAlignment="Center">
                        <TextBlock x:Name="lblAttemptsTop" Text="0" FontSize="11" FontWeight="Bold">
                            <TextBlock.Foreground>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <GradientStop Color="#00f5ff" Offset="0"/>
                                    <GradientStop Color="#ff00ff" Offset="1"/>
                                </LinearGradientBrush>
                            </TextBlock.Foreground>
                        </TextBlock>
                    </StackPanel>

                    <!-- System Monitor Mini -->
                    <StackPanel Grid.Column="7" Orientation="Horizontal" Margin="12,0,0,0" VerticalAlignment="Center">
                        <Border Background="#1a2a1a" CornerRadius="3" Padding="4,2" Margin="0,0,4,0">
                            <TextBlock x:Name="lblCpuTempGraph" Text="CPU --Â°" Foreground="#00ff88" FontSize="8"/>
                        </Border>
                        <Border Background="#2a1a1a" CornerRadius="3" Padding="4,2">
                            <TextBlock x:Name="lblGpuTempGraph" Text="GPU --Â°" Foreground="#ff6b35" FontSize="8"/>
                        </Border>
                    </StackPanel>

                    <!-- Hidden stats labels for compatibility -->
                    <TextBlock x:Name="lblSpeed" Visibility="Collapsed" Text="0 /sec"/>
                    <TextBlock x:Name="lblAttempts" Visibility="Collapsed" Text="0"/>
                    <TextBlock x:Name="lblCpuUsage" Visibility="Collapsed" Text="--%"/>
                    <TextBlock x:Name="lblGpuUsage" Visibility="Collapsed" Text="--%"/>
                    <Canvas x:Name="graphCanvas" Visibility="Collapsed"/>
                </Grid>
            </Border>

            <!-- Hidden elements -->
            <Border x:Name="cpuTempBar" Visibility="Collapsed"/>
            <Border x:Name="gpuTempBar" Visibility="Collapsed"/>
            <TextBlock x:Name="lblCpuTemp" Visibility="Collapsed"/>
            <TextBlock x:Name="lblGpuTemp" Visibility="Collapsed"/>
            </Grid>
        </Grid>
    </Border>
</Window>
