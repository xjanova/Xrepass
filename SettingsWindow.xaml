<Window x:Class="ZipCrackerUI.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="âš™ï¸ Settings" Height="300" Width="500"
        Background="{StaticResource PrimaryBrush}"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="NoResize">

    <Border CornerRadius="12" Background="{StaticResource PrimaryBrush}" BorderBrush="#2a2a4a" BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="60"/>
            </Grid.RowDefinitions>

            <!-- Title Bar -->
            <Border Grid.Row="0" CornerRadius="12,12,0,0" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Border.Background>
                    <SolidColorBrush Color="#08081a" Opacity="0.9"/>
                </Border.Background>
                <Grid>
                    <StackPanel Orientation="Horizontal" Margin="16,0,0,0" VerticalAlignment="Center">
                        <TextBlock Text="âš™ï¸" FontSize="16" Margin="0,0,8,0"/>
                        <TextBlock Text="Settings" Foreground="{StaticResource TextBrush}"
                                   FontSize="14" FontWeight="SemiBold" VerticalAlignment="Center"/>
                    </StackPanel>

                    <Button Content="âœ•" Width="36" Height="28" Click="BtnClose_Click"
                            HorizontalAlignment="Right" Margin="0,0,8,0" ToolTip="Close">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="Transparent"/>
                                <Setter Property="Foreground" Value="{StaticResource TextDimBrush}"/>
                                <Setter Property="BorderThickness" Value="0"/>
                                <Setter Property="FontSize" Value="14"/>
                                <Setter Property="Cursor" Value="Hand"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <Border Background="{TemplateBinding Background}" CornerRadius="6">
                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Background" Value="#2a2a4a"/>
                                                    <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>
            </Border>

            <!-- Settings Content -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Margin="20,16">
                <StackPanel>
                    <!-- Hashcat Path -->
                    <Border Background="#06060c" CornerRadius="8" Padding="16,12" Margin="0,0,0,12">
                        <StackPanel>
                            <TextBlock Text="ðŸŽ® HASHCAT PATH" Foreground="{StaticResource AccentBrush}"
                                       FontSize="11" FontWeight="Bold" Margin="0,0,0,8"/>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <TextBox x:Name="txtHashcatPath" Grid.Column="0"
                                         Style="{StaticResource ModernTextBox}"
                                         Height="36" FontSize="12" Margin="0,0,8,0"
                                         IsReadOnly="True"/>

                                <Button x:Name="btnBrowseHashcat" Grid.Column="1"
                                        Content="ðŸ“‚ Browse" Width="100" Height="36"
                                        Style="{StaticResource ModernButton}"
                                        Click="BtnBrowseHashcat_Click"/>
                            </Grid>

                            <TextBlock Text="Path to hashcat.exe (for GPU acceleration)"
                                       Foreground="{StaticResource TextDimBrush}"
                                       FontSize="10" Margin="0,6,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Auto-detect Hashcat -->
                    <Border Background="#06060c" CornerRadius="8" Padding="16,12">
                        <StackPanel>
                            <CheckBox x:Name="chkAutoDetectHashcat" Content="Auto-detect Hashcat on startup"
                                      FontSize="12" IsChecked="True"/>
                            <TextBlock Text="Automatically search for hashcat.exe if not found"
                                       Foreground="{StaticResource TextDimBrush}"
                                       FontSize="10" Margin="24,4,0,0"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>

            <!-- Buttons -->
            <Border Grid.Row="2" BorderBrush="#2a2a4a" BorderThickness="0,1,0,0" Padding="20,12">
                <Grid>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                        <Button x:Name="btnCancel" Content="Cancel" Width="100" Height="36"
                                Style="{StaticResource ModernButton}" Margin="0,0,8,0"
                                Click="BtnCancel_Click"/>
                        <Button x:Name="btnSave" Content="Save" Width="100" Height="36"
                                Style="{StaticResource PrimaryButton}"
                                Click="BtnSave_Click"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
